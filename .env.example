# MCP Finance Environment Variables
# Copy this file to .env.local and fill in the actual values
# IMPORTANT: Never commit .env.local to git - it contains secrets!

################################################################################
# CLERK AUTHENTICATION
################################################################################
# Get these from: https://dashboard.clerk.com
# 1. Go to API Keys
# 2. Copy the Publishable Key and Secret Key

# Public key - safe to expose to client
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Secret key - keep private!
CLERK_SECRET_KEY=sk_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Clerk URLs - default values, adjust if needed
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Webhook secret for Clerk events
# Get from: Clerk Dashboard → Webhooks → Create Endpoint
CLERK_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXXXXXXXXXXXXX

################################################################################
# MCP CLOUD RUN API
################################################################################
# Get from: GCP Console → Cloud Run → Select your service
# Format: https://service-name-XXXXX.run.app

MCP_CLOUD_RUN_URL=https://technical-analysis-api-XXXXX.run.app

################################################################################
# DATABASE (OPTIONAL - Only needed for production)
################################################################################
# For local development, you can skip this
# For Cloud SQL, get from: GCP Console → Cloud SQL → Connection name
# Format: postgresql://username:password@host:port/database

# Connection string format:
# DATABASE_URL=postgresql://user:password@localhost:5432/mcp_finance

# For Cloud SQL Unix socket (Vercel-compatible):
# DATABASE_URL=postgresql://user:password@/dbname?host=/cloudsql/project:region:instance

DATABASE_URL=postgresql://user:password@localhost:5432/mcp_finance

################################################################################
# OPTIONAL: ADMIN CONFIGURATION
################################################################################
# Comma-separated list of admin email addresses
# These users get admin permissions in the system
ADMIN_EMAILS=admin@example.com,owner@example.com

################################################################################
# OPTIONAL: MONITORING & ANALYTICS
################################################################################
# Sentry (error tracking) - optional
# SENTRY_DSN=https://XXXXX@sentry.io/XXXXX

# PostHog (analytics) - optional
# NEXT_PUBLIC_POSTHOG_KEY=phc_XXXXX
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

################################################################################
# DEPLOYMENT ENVIRONMENT
################################################################################
# Set by Vercel automatically
# NODE_ENV=development|production

################################################################################
# NOTES FOR SETUP
################################################################################
# 1. CLERK SETUP:
#    - Go to https://dashboard.clerk.com
#    - Create application or use existing
#    - Copy Publishable Key → NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
#    - Copy Secret Key → CLERK_SECRET_KEY
#    - Create Webhook → CLERK_WEBHOOK_SECRET
#
# 2. MCP CLOUD RUN SETUP:
#    - Deploy mcp-finance1 to Cloud Run: https://cloud.google.com/run/docs
#    - Copy service URL → MCP_CLOUD_RUN_URL
#    - Make sure service allows unauthenticated access
#
# 3. DATABASE SETUP (Optional):
#    - Create Cloud SQL PostgreSQL instance
#    - Create user and database
#    - Update DATABASE_URL connection string
#    - Run migrations: npm run db:migrate
#
# 4. LOCAL DEVELOPMENT:
#    - Copy this file: cp .env.example .env.local
#    - Fill in the values for your local setup
#    - Start dev server: npm run dev
#    - You can test with Clerk test keys
#
# 5. PRODUCTION DEPLOYMENT:
#    - Add these variables to Vercel project settings
#    - Use production Clerk keys (pk_live_*, sk_live_*)
#    - Use production Cloud Run URL
#    - Use Cloud SQL DATABASE_URL
#    - Vercel will automatically use these for deployments
#
# 6. SECURITY REMINDERS:
#    - NEVER commit .env.local to git
#    - NEVER share secret keys
#    - NEVER upload credentials.json or .key files
#    - Use different keys for dev/prod
#    - Rotate secrets regularly
